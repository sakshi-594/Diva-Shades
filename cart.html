<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Cart | Diva Shades</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body { font-family: Poppins, sans-serif; background:#000; color:#fff; }
.navbar { background:#000; border-bottom:1px solid rgba(255,182,193,.3); }
.navbar-brand { color:#ff99cc !important; font-size:26px; font-weight:600; }
.cart-item { display:flex; background:#111; padding:15px; border-radius:10px; margin-bottom:12px; }
.cart-item img { width:100px; height:100px; border-radius:8px; object-fit:cover; margin-right:15px; }
.qty-btn { width:32px; height:32px; border:none; border-radius:50%; background:#ff1493; color:#fff; }
.remove-btn { background:none; border:none; color:#ff6b6b; margin-top:5px; }
.total-box { background:#111; border:1px solid #ff99cc; padding:20px; border-radius:12px; font-size:22px; }
.btn-rose { background:#ff1493; color:#fff; border-radius:30px; padding:12px 22px; }
.btn-rose:hover { background:#ff66b3; }
</style>
</head>
<body>

<nav class="navbar navbar-expand-lg">
<div class="container">
<a class="navbar-brand" href="index.html">Diva Shades</a>
<button class="navbar-toggler text-white" data-bs-toggle="collapse" data-bs-target="#nav">‚ò∞</button>
<div class="collapse navbar-collapse" id="nav">
<ul class="navbar-nav ms-auto">
<li class="nav-item"><a class="nav-link text-white" href="index.html">Home</a></li>
<li class="nav-item"><a class="nav-link text-white" href="products.html">Products</a></li>
<li class="nav-item"><a class="nav-link text-white active" href="cart.html">Cart</a></li>
<li class="nav-item"><a class="nav-link text-white" href="contact.html">Contact</a></li>
</ul>
</div>
</div>
</nav>

<div class="container py-5">
<h2 class="mb-4 text-center">üõç Your Cart</h2>
<div id="cartItems"></div>

<div class="total-box mt-4">
Total: ‚Çπ<span id="totalPrice">0</span>
</div>

<div class="text-center mt-4">
<button onclick="goToCheckout()" class="btn btn-rose btn-lg">Proceed to Checkout</button>

</div>
</div>

<script>
function getCart(){ return JSON.parse(localStorage.getItem("diva_cart") || "[]"); }
function saveCart(cart){ localStorage.setItem("diva_cart", JSON.stringify(cart)); displayCart(); }

function changeQty(id, type){
let cart = getCart();
const item = cart.find(i => i.id === id);
if(!item) return;
if(type === "minus" && item.qty > 1) item.qty--;
else if(type === "plus") item.qty++;
saveCart(cart);
}

function removeItem(id){
let cart = getCart().filter(i => i.id !== id);
saveCart(cart);
}

function displayCart(){
const cart = getCart();
let html = "", total = 0;

if(cart.length === 0){
document.getElementById("cartItems").innerHTML = "<h4 class='text-center mt-5'>Cart is Empty üõí</h4>";
document.getElementById("totalPrice").innerText = 0;
return;
}

cart.forEach(item => {
total += item.price * item.qty;
html += `
<div class="cart-item">
<div><img src="${item.img}"></div>
<div class="flex-grow-1">
<h5>${item.title}</h5>
<p>‚Çπ${item.price}</p>
<div class="d-flex align-items-center gap-2">
<button class="qty-btn" onclick="changeQty('${item.id}','minus')">‚àí</button>
<span>${item.qty}</span>
<button class="qty-btn" onclick="changeQty('${item.id}','plus')">+</button>
</div>
<button class="remove-btn" onclick="removeItem('${item.id}')">Remove</button>
</div>
</div>
`;
});
document.getElementById("cartItems").innerHTML = html;
document.getElementById("totalPrice").innerText = total;
}
displayCart();

function goToCheckout(){
    const cart = getCart();
    if(cart.length === 0){
        alert("Your cart is empty! Add items before checkout üõçÔ∏è");
        return;
    }
    window.location.href = "checkout.html";
}

</script>
</body>
</html>
